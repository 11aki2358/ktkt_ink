<!DOCTYPE html>
<html lang="ja" prefix="og: http://ogp.me/ns#">
<head>
<meta name="robots" content="noindex,nofollow">
<meta name="googlebot" content="noindex,nofollow">
<meta name="pinterest" content="nopin">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#000000">
<link rel="shortcut icon" href="../images/favicon.svg" type="image/svg+xml">
<title>backyard</title>
<link rel="stylesheet" href="../css/prism.css" type="text/css" id="style">
<link rel="stylesheet" href="../css/decoration.css" type="text/css" id="style">
<link rel="stylesheet" href="../css/footer.css" type="text/css" id="style">
<link rel="stylesheet" href="../css/image.css" type="text/css" id="style">
<link rel="stylesheet" href="../css/style.css" type="text/css" id="style">
</head>
<body>
<header>
<nav>
<div class="header-logo-menu">
<div class="logo-area">
<h1><a href="./backyard.html">backyard</a></h1>
</div>
<div id="nav-drawer">
<input id="nav-input" type="checkbox" class="nav-unshown">
<label id="nav-open" for="nav-input"><span></span></label>
<label class="nav-unshown" id="nav-close" for="nav-input"></label>
<div id="nav-content-record"></div>
<div id="nav-content-jacket">
<div class="nav-content-text center-list"></div>
</div>
</div>
</div>
</div>
</nav>
</header>
<main>
<!-- CSS : prism -->
<!-- genre : design -->
<h2 id="header">Header</h2>
<p>headerタグの中身についてのメモ。
headerタグの中では、</p>
<ul>
<li><p>サイトのタイトル<br>ページ上部で固定している。h1見出しで、aリンク。</p>
</li>
<li><p>コンテンツメニューのボタン<br>ページ右上で固定しているOPEN/BACKボタン</p>
</li>
<li><p>コンテンツメニュー<br>OPENボタンを押すと出てくる。</p>
</li>
</ul>
<p>を使用して、ハンバーガーメニューを実装。<br>主にheader.css, headline.cssが関与。  </p>
<p>主に</p>
<ul>
<li><a href="../css/style.css" target="_blank" class="code-file">style.css</a> : header.cssと、ページ内リンクの飛び先について</li>
<li><a href="../css/decoration.css" target="_blank" class="code-file">decoration.css</a> : (h1見出しについてのみ)</li>
<li><a href="../js/general.js" target="_blank" class="code-file">general.js</a></li>
</ul>
<p>が関与。</p>
<p>主に参考にした資料:</p>
<ul>
<li>【コピペで簡単】ハンバーガーメニューをCSSだけで作る方法
<a href="https://rui-log.com/css-hamburger-menu/" target="_blank">link</a></li>
<li>JavaScript不要！CSSだけでハンバーガーメニューを実装する方法 : 
<a href="https://www.asobou.co.jp/blog/web/css-menu" target="_blank">link</a></li>
</ul>
<h2 id="logo-area">logo area</h2>
<p>ページ上部で固定している部分(h1見出しとopenボタン)。</p>
<ul>
<li>header.css : タイトル部分の範囲を指定したり</li>
<li>design.css : h1見出しとh2見出しのフォントサイズなど</li>
</ul>
<p>htmlファイルの中身では</p>
<ul>
<li><p>サイトのタイトル(h1見出し)  </p>
<pre data-label=".html"><code class="language-html">
&lt;div class="header-logo-menu">
</code></pre>
</li>
<li><p>OPEN/BACKボタン</p>
<pre data-label=".html"><code class="language-html">
&lt;label id="nav-open" for="nav-input">&lt;span>&lt;/span>&lt;/label>
</code></pre>

</li>
</ul>
<p>ヘッダーのh1とopenボタン、h2の配置は、 使っているフォントに合わせて微調整している。
下手にいじるとガッタガタな配置になるので注意。</p>
<h2 id="contents-menu">Contents menu</h2>
<p>OPENボタンを押すと飛び出す、レコードみたいな部分。ページ内リンクが貼ってある。ハンバーガーぽく見えないけれど、ハンバーガーメニューの機能がコレ。</p>
<h3 id="-">仕組み(ざっくり)</h3>
<p><code class="language-html">#nav-input</code>というタグがついたチェックボックスを用意しておく。このチェックボックス(<code class="language-html">#nav-input</code>)の値が..</p>
<ul>
<li>false(チェックされていない) : コンテンツメニューは表示しない</li>
<li>true(チェックされている) : コンテンツメニューを表示する</li>
</ul>
<p>という風にして、コンテンツメニューの表示・非表示を切り替える。<br>このチェックボックスを定義しているのが</p>
<pre data-label=".html"><code class="language-html">
&lt;input id="nav-input" type="checkbox" class="nav-unshown">
</code></pre>

<p>の部分。<br>ページにチェックボックスが表示されていたらヘンなので、<code class="language-html">class="nav-unshown"</code>を付けて非表示にしている。<br>このチェックボックス(<code class="language-html">#nav-input</code>)の値(true/false)を操作できる要素は3種類ある。</p>
<ul>
<li>OPEN/BACKの範囲(<code class="language-html">#nav-open</code>)</li>
<li>コンテンツメニューの背景のモヤッとした部分(<code class="language-html">#nav-close</code>)</li>
<li>コンテンツメニューに貼られたリンク(<code class="language-html">class="nav-link"</code>)</li>
</ul>
<p>この3つのうち、2番目と3番目のは「チェックを外す(コンテンツメニューを閉じる)」のにしか使えない。</p>
<h3 id="-code-class-language-html-nav-input-code-">チェックボックス(<code class="language-html">#nav-input</code>)にチェックする</h3>
<p>OPENと書かれた範囲をクリックすれば、チェックボックス(<code class="language-html">#nav-input</code>)の値をtrueにする、という形式。<br>OPENの範囲は、</p>
<pre><code class="language-powershell">
&lt;label id="nav-open" for="nav-input">&lt;span>&lt;/span>&lt;/label>
</code></pre>

<p>で定義されている。<br><code class="language-html">&lt;span>&lt;/span></code>の部分(CSSの<code class="language-css">#nav-open span::after</code>も)でOPENの描画をしている。<br>コレをくくっている<code class="language-html">&lt;label id="nav-open" for="nav-input">&lt;/label></code>の部分が、「この範囲が、チェックボックス(<code class="language-css">#nav-open</code>)の操作をするよ。ちなみにこの部分のidは<code class="language-css">#nav-open</code>だよ」と宣言している。    </p>
<p>OPENの範囲がクリックされた、つまりチェックボックス(<code class="language-css">#nav-input</code>)の値がtrueになった状況というのは、CSSで<code class="language-css">#nav-input:checked</code>で表される。
コレを使って、</p>
<ul>
<li><p>OPENがクリックされたら、<code class="language-css">#nav-close</code>の要素(コンテンツメニューのモヤッとした背景)を表示</p>
<pre data-label="header.css"><code class="language-css">
#nav-input:checked~#nav-close {...略...}
</code></pre>
</li>
<li><p>コンテンツメニューを表示</p>
<pre data-label="header.css"><code class="language-css">
#nav-input:checked~#nav-content-record,
#nav-input:checked~#nav-content-jacket {...略...}
</code></pre>
</li>
<li><p>OPENの文字をBACKに変える</p>
<pre data-label="header.css"><code class="language-css">
#nav-input:checked~#nav-open span::after {...略...}
</code></pre>

</li>
</ul>
<p>コンテンツメニューその他もろもろの表示や変更をできました。</p>
<h3 id="-code-class-language-css-nav-input-code-">チェックボックス(<code class="language-css">#nav-input</code>)からチェックを外す</h3>
<p>チェックボックス(<code class="language-css">#nav-input</code>)にチェックをつける(コンテンツメニューを表示する)ための操作は、「OPENの範囲をクリックする」のみだった。
でも、このチェックを外す(コンテンツメニューを非表示にする)方法は3通りある。</p>
<h4 id="-nav-open">#nav-open</h4>
<p>今はBACKと表示されている部分。
チェックボックス(<code class="language-css">#nav-input</code>)にチェックするときと同じ要領で、このチェックボックスの値をtrue→falseに切り替える。</p>
<h4 id="-nav-close">#nav-close</h4>
<p>コンテンツメニューの背景のモヤッとした部分。
ここをクリックすると、チェックボックス(<code class="language-css">#nav-input</code>)の値をtrue→falseに切り替える。</p>
<h4 id="-nav-link">.nav-link</h4>
<p>コンテンツメニューに貼られたリンク。ちょっとややこしい。<br><code class="language-css">#nav-open</code>, <code class="language-css">#nav-close</code>のラベルがついた要素は、チェックボックス(<code class="language-css">#nav-input</code>)と兄弟関係だったから、ひねったことをしなくても<code class="language-css">~checked</code>を使えばCSSで操作できた。<br>でも、<code class="language-html">class="nav-link"</code>がついたこのリンクは、チェックボックスと兄弟関係でない。
だから、javaScriptを使ってチェックボックスのtrue→falseを実装しなければならない。<br><a href="https://rui-log.com/css-hamburger-menu/#postscript01" target="_blank">こちら</a>のリンクで、javaScriptの書き方を説明している。でも、こちらのコードはjQueryを使用しているという条件が必要。<br>純粋なjavaScriptだけでチェックボックスの操作をしたい... 初めて自力でjavaScriptを書くよ、参考資料は</p>
<ul>
<li>クリックイベント :
<a href="http://clue-design.com/javascript/id-class-click" target="_blank">link</a></li>
<li>チェックボックスを外す :
<a href="https://1-notes.com/javascript-change-the-checkbox-check/" target="_blank">link</a></li>
</ul>
<pre data-label="general.js"><code class="language-js">
function navLinkClicked() {
  let lnk = document.getElementsByClassName("nav-link"); //  class="nav-link"な要素について
  for (i = 0; i < lnk.length; i++) { //  全部確認する
    lnk[i].addEventListener("click", () => { //  どれかの要素でクリックされたら
      document.querySelector(`input[type='checkbox'][id='nav-input'][class='nav-unshown']`).checked = false;  // チェックボックス(#nav-input)をfalseに
    }, false);
  }
}
var navLinkChecked = navLinkClicked();
</code></pre>


<h3 id="-">微調整</h3>
<ul>
<li><p>OPEN/BACKボタンは、コンテンツメニューが開いても表示し続けたいので、</p>
<pre data-label="header.css"><code class="language-css">
position: relative;
z-index: 100;
</code></pre>

<p>を指定。</p>
</li>
<li>頭文字を大文字にする :
<a href="https://developer.mozilla.org/ja/docs/Web/CSS/text-transform" target="_blank">link</a></li>
</ul>
</main>
<footer>
<button id="back-to-top"></button>
<nav><ul>
<li><a href="../index.html" class="btn-flat"><span>home</span></a></li>
<li><a href="./backyard.html" class="btn-flat"><span>backyard</span></a></li>
<li><a href="./design.html" class="btn-flat"><span>design</span></a></li>
</ul></nav>
</footer>
<script src="../js/prism.js"></script>
<script src="../js/general.js"></script>
</body>
</html>